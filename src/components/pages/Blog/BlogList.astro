---
import { getCollection } from "astro:content";
import PostCard from "../../cards/PostCard/PostCard.astro";
import "./BlogList.css";

const posts = await getCollection("posts");
const sortedPosts = posts.sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<section class="blog-list-section">
    <div class="container mx-auto px-4">
        <div class="blog-list-header">
            <h1 class="blog-list-title">
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)]"
                >
                    Latest Updates
                </span>
            </h1>
            <p class="blog-list-description">
                Insights, tutorials, and news from the Society of Information
                Technology Enthusiasts.
            </p>
        </div>

        <div class="blog-list-grid">
            {sortedPosts.map((post) => <PostCard post={post} />)}
        </div>
    </div>
</section>
