---
import { getCollection } from "astro:content";
import OfficerCard from "../../cards/OfficerCard/OfficerCard.astro";
import "./OfficerList.css";

const officers = await getCollection("officers");

// Sort officers by role priority (President first, etc.) if needed
// For now, we'll just sort by name or keep default order
const sortedOfficers = officers.sort((a, b) => {
    // Custom sorting logic can be added here
    // Example: promoting President to top
    if (a.data.role === "President") return -1;
    if (b.data.role === "President") return 1;
    return 0;
});
---

<section class="officer-list-section">
    <div class="container mx-auto px-4">
        <div class="officer-list-header">
            <h1 class="officer-list-title">
                <span
                    class="text-transparent bg-clip-text bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-secondary)]"
                >
                    Meet the Team
                </span>
            </h1>
            <p class="officer-list-description">
                The dedicated individuals working behind the scenes to bring you
                events, workshops, and opportunities.
            </p>
        </div>

        <div class="officer-list-grid">
            {
                sortedOfficers.length > 0 ? (
                    sortedOfficers.map((officer) => (
                        <OfficerCard officer={officer} />
                    ))
                ) : (
                    <div class="col-span-full text-center py-12 text-gray-500">
                        <p>No officers listed yet.</p>
                    </div>
                )
            }
        </div>
    </div>
</section>
